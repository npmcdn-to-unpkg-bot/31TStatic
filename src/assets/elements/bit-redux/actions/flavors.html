<link rel="import" href="../common.html">
<script>
(() => {
	const EXPORT = {}
	const { SET_FLAVORS,
	 		USER_ADD_FLAVOR,
			USER_REMOVE_FLAVOR } = window.BIT.Redux.constants.actionTypes
	const { dispatch } = window.BIT.Redux.store.store

	EXPORT.setFlavors = (flavors) => {
		dispatch({
			type: SET_FLAVORS,
			payload: {
				flavors,
				updatedAt: Date.now()
			}
		})
	}

	EXPORT.userAddFlavor = (flavorId) => {
		dispatch({
			type: USER_ADD_FLAVOR,
			payload: flavorId
		})
	}

	EXPORT.userRemoveFlavor = (flavorId) => {
		dispatch({
			type: USER_REMOVE_FLAVOR,
			payload: flavorId
		})
	}

	window.BIT.Redux.actions.flavors = EXPORT
})()
</script>