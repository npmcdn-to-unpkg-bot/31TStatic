<link rel="import" href="action-types.html">

<script>
(function () {
	'use strict';
	var reducers = {};
	reducers.flavors = function(state = [], action){
		switch (action.type) {
			case window.BIT.ActionTypes.SET_FLAVORS:
				return action.payload.flavors.slice();
			default:
				return state;
		}
	}
	reducers.flavorsById = function(state = {}, action){
		switch (action.type) {
			case window.BIT.ActionTypes.SET_FLAVORS:
				let byId = {};
				action.payload.flavors.forEach((flavor) => byId[flavor._id] = flavor);
				return byId;
			default:
				return state;
		}
	}
	reducers.flavorsUpdatedAt = function(state = 0, action){
		switch (action.type) {
			case window.BIT.ActionTypes.SET_FLAVORS:
				return action.payload.updatedAt;
			default:
				return state;
		}
	}
	class Class {
		beforeRegister() {
			this.hostAttributes = {
				hidden: true
			}
			this.is = 'bit-core-reducers';
			this.properties = {
				reducers:{
					type: Object,
					value: reducers,
					notify: true
				}
			};
		}
	}
	Polymer(Class);
})();
</script>